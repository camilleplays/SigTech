import matplotlib.pyplot as plt
import numpy as np
t = np.arange(0, 1000, 1)

avx2=[26,38,46,66,81,60,63,69,76,83,139,99,106,161,123,129,200,145,152,207,170,245,264,279,285,287,267,252,229,287,246,255,260,318,281,473,445,448,454,532,528,619,622,412,352,362,368,377,383,391,402,406,412,422,430,676,604,459,466,479,669,648,567,528,583,515,526,580,540,602,795,880,855,980,1150,854,833,867,813,812,856,1047,1011,880,1010,907,929,845,854,984,883,1128,1002,941,1173,1017,1029,993,992,1045,1165,1173,1051,1269,1072,1091,1061,1070,1109,1384,1145,1412,1293,1115,1119,1163,1182,1483,1157,1246,1239,1172,1222,1189,1321,1422,1486,1378,1231,1233,1238,1288,1580,1289,1421,1302,1287,1297,1302,1646,1360,1552,1355,1341,1347,1446,1621,1682,1652,1391,1389,1466,1753,1453,1593,1454,1485,1465,1712,1569,1609,1559,1491,1521,1716,1699,1636,1595,1578,1586,1858,1613,1706,1593,1624,1585,2012,1635,1866,1625,1622,1681,2048,1947,1759,1668,1675,2054,1723,1864,1758,1715,1988,1835,1894,1754,1788,1764,2176,1935,1822,1799,1847,2267,1957,1858,1893,1903,2246,2019,1900,1913,2222,2050,2143,1934,1953,2449,2027,2045,1942,1949,2574,2215,1975,1986,2651,2149,2143,2008,2751,2125,2191,2062,2102,2713,2310,2077,2084,2858,2319,2115,2156,2892,2292,2167,2186,2941,2338,2200,2225,2956,2423,2221,2244,2986,2372,2259,2281,3024,2422,2272,2306,3122,2509,2347,2285,3117,2665,2319,3116,2485,2413,2400,3390,2540,2435,2374,2411,2931,2460,3221,2548,2559,2426,2860,2988,2455,2899,2956,2656,2504,3291,2896,2564,3402,2700,2556,2596,3366,2826,2577,2619,3086,2685,2612,3399,2801,2692,3425,2816,2720,3443,2810,2745,2717,3515,2940,2711,3554,2958,2734,2837,3570,2778,3659,3365,2774,3632,2977,2806,2864,2873,2997,2917,3659,3069,2846,3714,3111,2868,3733,3117,2966,3727,3159,2925,3721,3113,3058,3758,3180,3014,3798,3288,2988,3859,3187,3007,3919,3183,3599,3523,3076,3856,3338,3085,3128,3754,3093,3151,3666,3115,3245,3339,3233,3951,3358,3156,3238,3390,3239,4008,3404,3266,4362,3465,4043,3542,3309,4281,3521,3268,4481,3304,4129,3771,3304,3381,3519,3404,4325,3360,4153,3964,3374,3446,3554,3458,4372,3434,4227,3618,3815,4339,3670,4270,3699,3620,4545,3550,4334,3694,3608,4463,3717,4348,3754,3622,4562,3682,4423,3775,3674,4588,3652,4408,3907,4456,3851,3705,4590,3956,4484,3983,3744,3937,3938,4533,3944,3770,4294,3802,4669,3946,4625,4245,4609,4424,3871,4850,3826,4727,4031,4738,4125,3930,5262,4007,4902,3877,4914,4022,4868,4124,4032,5291,4786,4335,4043,4961,3987,4944,4036,4851,4222,4826,4418,4830,4236,4813,4317,4124,4284,4426,4959,4258,4990,4463,5097,4380,4470,5167,4997,4358,4260,5663,5015,4384,5022,4403,4238,5747,4750,4722,4312,5229,4270,5222,4286,5855,4302,5309,4434,5302,4397,5323,4393,5257,4468,5221,4714,5309,4721,5328,4531,5896,4552,5517,4451,5447,4466,5468,4483,5645,4494,5652,4529,5993,5264,4991,4618,5987,4611,6036,5507,4780,5996,4716,6488,4565,5616,4584,5626,5400,4867,4637,6114,5517,5185,5542,4852,5605,4754,5670,4693,5719,4713,5728,5546,4937,4888,5041,4833,5092,4856,5006,4879,5452,5668,5391,5908,4846,6043,4909,5319,5689,5131,5112,5302,5821,5242,5920,4997,6009,5761,5145,5052,5205,6460,5113,6061,5773,5427,5843,5501,5902,5229,6084,5125,6557,6508,5402,6131,5176,6652,5979,5635,6112,5225,6707,6089,5383,6702,6060,5473,6117,5449,6220,6115,5550,6646,5376,6303,6063,5508,6813,5334,6299,6165,5785,6428,5350,6992,6196,5579,5609,5385,6458,6211,5556,5639,5469,6469,6235,5616,5620,5612,6532,6306,5866,5657,5552,5907,6321,5706,5681,5722,6558,6355,5757,5906,5670,6602,6505,5824,5909,6485,5932,5803,5837,6726,6647,8362,6342,6724,5801,6739,6629,5934,6789,6571,5934,7263,6809,6010,7429,6594,5960,7376,6615,6066,7349,6700,6053,7056,6712,6196,6963,6837,6115,6934,7390,5976,7711,7015,6788,6201,6942,6660,6726,7079,6788,6199,7548,6955,6250,7620,7115,6194,7452,7127,6909,6287,6370,6909,6308,6572,7003,6367,7158,6262,6340,6391,6249,6402,6488,7178,6414,6516,7044,6478,7303,7170,6496,6625,7278,6286,6616,7343,7095,6789,7344,7366,6528,6600,6484,6574,7591,7411,7173,6638,7583,7443,7316,6766,7486,6522,6646,7508,7198,7307,6710,6909,7363,6814,6858,6975,6536,6865,6802,7376,6764,7628,7546,7428,7233,7650,7628,7463,7159,7657,8204,7462,6950,7666,7703,8052,7020,6993,6961,7541,7405,7778,8279,8169,6968,8294,7870,8140,7601,7177,7734,7860,7761,7772,7027,7333,7937,7817,7343,7888,7155,7720,7094,7960,7937,7792,7182,8554,7958,8513,9170,7795,7834,7419,7978,8031,7849,7267,8099,8098,8127,7508,8007,8164,8327,8091,7094,7671,8261,7452,8107,8199,7684,8199,8291,8155,7196,7389,7602,8239,8046,8357,7757,8229,7513,8171,7462,7513,7542,8298,8130,7484,7521,8349,8416,8147,8359,7554,8338,7634,8307,8422,7589,7681,8478,7657,8286,7676,8259,8489,7741,8423,7706,7688,8037,8549,8326,8608,7914,7823,8526,8597,7734,8631,7779,8610,7821,8596,7644,8664,7791,7881,8677,8648,7683,8653,7928,8004,8668,8713,8733,7703,7899,8803,8882,8017,8795,8572,8816,8339,8441,8063,8875,8936,7785,8829,8045,9386,9168,10398,9472,11614,9335,8952,9428,8905,9450,9037,8895,9658,8970,9011,8223,9554,8985,9293,9162,9057,9111,9576,9211,8939,9046,9126,8280,9315,9068,9665,9305,9111,9154,9670,9185,9224,9024,9242,9789,9167]


scalar_version=[157,243,313,295,375,480,439,503,592,606,676,735,636,589,540,435,467,399,391,423,378,372,383,376,346,361,378,351,352,361,369,339,379,406,414,416,468,439,451,460,468,478,532,498,509,521,530,542,550,561,571,585,591,605,613,624,633,642,653,664,674,689,694,706,714,728,737,750,755,766,777,782,799,804,821,825,836,888,858,865,874,890,900,906,915,932,941,970,961,973,981,1000,1231,1193,1045,1033,1040,1064,1061,1071,1084,1091,1107,1116,1122,1135,1142,1153,1163,1174,1188,1195,1203,1223,1225,1236,1247,1258,1267,1283,1288,1302,1308,1319,1328,1338,1349,1360,1369,1380,1391,1404,1415,1423,1437,1444,1453,1470,1474,1488,1494,1503,1517,1526,1536,1546,1557,1565,1582,1587,1597,1608,1618,1628,1638,1654,1661,1674,1682,1689,1710,1714,1720,1736,1742,1754,1761,1776,1785,1799,1807,2222,1826,1840,1847,1861,1865,1877,1887,1897,1909,1918,1929,1934,1946,1955,1968,1978,1992,2001,2012,2012,2030,2039,2051,2061,2073,2082,2096,2098,2113,2124,2137,2144,2157,2165,2174,2184,2198,2209,2218,2229,2240,2253,2257,2264,2282,2365,2300,2326,2316,2340,2342,2353,2373,2374,2383,2394,2405,2417,2422,2430,2444,2454,2465,2490,2521,2495,2504,2519,2528,2539,2545,2562,2599,2579,2589,2593,2649,2774,2652,2730,2656,2662,2671,2683,2679,2700,2715,2730,2734,2744,2756,2776,2781,2785,2801,2800,2806,2825,2826,2847,2859,2874,2878,2892,2915,2912,2920,2928,2940,2951,2962,2973,2983,2991,3002,3011,3022,3033,3043,3057,3064,3073,3082,3091,3098,3118,3126,3135,3146,3162,3182,3183,3191,3198,3201,3219,3407,3253,3257,3260,3274,3288,3294,3298,3312,3327,3341,3361,3362,3364,3375,3388,3393,3408,3415,3428,3437,3447,3458,3470,3483,3491,3497,3514,3537,3535,3539,3561,3558,3569,3581,3588,3603,3612,3624,3632,3643,3658,3664,3675,3684,3693,3704,3711,3724,3747,3771,3763,3768,3780,3787,3796,3806,3817,3827,3855,3842,3862,3876,3879,3888,3902,3914,3913,3928,3935,3952,3962,3970,3985,3996,4003,4014,4035,4036,4044,4055,4067,4076,4088,4096,4108,4113,4125,4160,4171,4164,4181,4178,4371,4245,4216,4220,4228,4252,4251,4251,4287,4274,4269,4300,4312,4328,4398,4362,4348,4364,4374,4386,4401,4412,4449,4434,4429,4451,4458,4468,4488,4488,4495,4514,4524,4531,4537,4555,4564,4568,4583,4590,4788,4686,4625,4640,4647,4657,4670,4689,4706,4701,4711,4715,4735,4743,4742,4757,4771,4774,4786,4802,4827,4825,4833,4830,4852,4874,4875,4882,4892,4911,4905,4932,4950,5079,4962,4964,5011,5019,4989,5002,4996,5034,5041,5048,5058,5066,5081,5077,5097,5113,5110,5138,5149,5155,5167,5196,5185,5174,5207,5208,5222,5229,5243,5243,5269,5287,5287,5303,5299,5343,5491,5342,5343,5362,5367,5382,5418,5408,5416,5438,5428,5443,5454,5458,5473,5500,5493,5493,5509,5523,5525,5539,5558,5560,5571,5588,5591,5628,5614,5588,5611,5827,5655,5665,5684,5690,5703,5723,5722,5723,5746,5745,5766,5769,5777,5783,5773,5812,5859,5833,5846,5861,5886,5876,5893,5891,5888,5936,5960,5940,5946,6141,6016,5974,5989,6012,5997,6051,6029,6043,6046,6062,6071,6080,6079,6094,6110,6125,6123,6127,6150,6166,6179,6186,6176,6205,6239,6234,6230,6241,6457,6278,6281,6275,6300,6309,6311,6326,6332,6339,6360,6373,6380,6389,6419,6416,6419,6436,6439,6475,6462,6477,6468,6515,6504,6514,6519,6833,6563,6547,6555,6578,6681,6596,6606,6617,6632,6636,6640,6657,6670,6683,6686,6684,6707,6730,6742,6748,6715,6771,6777,6779,6790,6993,6823,6829,6834,6849,6878,6865,6874,6884,6899,6874,6919,6922,6958,6948,6962,6957,6982,6992,6999,7019,7031,7038,7044,7019,7261,7075,7080,7077,7105,7132,7128,7125,7142,7164,7173,7169,7185,7202,7202,7209,7209,7236,7252,7249,7255,7301,7296,7288,7505,7326,7335,7352,7320,7366,7368,7381,7377,7404,7402,7428,7433,7478,7454,7474,7486,7486,7503,7509,7518,7524,7498,7699,7595,7562,7574,7580,7620,7611,7601,7624,7639,7649,7654,7658,7697,7695,7683,7714,7722,7724,7750,7753,7914,7774,7970,7800,7808,7821,7825,7834,7849,7849,7869,7876,7886,7886,7931,7910,7925,7954,7967,7957,7966,7978,7987,8000,8215,8052,8039,8044,8170,8111,8075,8075,8099,8105,8118,8126,8130,8154,8152,8259,8175,8201,8196,8244,8220,8232,8240,8245,8252,8251,8282,8301,8291,8312,8325,8328,8352,8361,8363,8372,8380,8392,8379,8417,8464,8435,8426,8458,8470,8481,8502,8514,8512,8520,8528,8543,8552,8537,8538,8559,8562,8604,8607,8623,8656,8645,8649,8661,8652,8656,8645,8791,8696,8721,8737,8746,8754,9321,9403,8765,8810,8801,8823,8827,8859,8838,8856,9143,8878,8881,9000,8936,8926,8947,8958,8949,8955,8984,8977,9053,9037,9013,9037,9136,9043,9049,9075,9089,9090,9107,9150,9091,9134,9143,9146,9166,9293,9142,9183,9201,9210,9222,9229,9242,9248,9249,9274,9281,9323,9304,9315,9316,9324,9344,9353,9362,9366,9371,9387,9405,9399,9471,9433,9445,9461,9459,9480,9494,9496,9508,9613,9520,9543,9580,9561,9567,9572,9599,9611,9607,9624,9633,9663,9650,9670,9675,9644,9641,9680,9717,9710,9762,9784,9758,9750,9780,9792,9823,9947,9818,9825,9861,9846,9859,9849,9868,9801,9808,9863,9945,9927,9950,9950,9964,9973,9974,9985,10004,10022,9992,10067,10063,10054,10049,10079,10090,10100,10111,10116,10140,10128,10137,10188,10164,10179,10196,10192,10206,10218,10222,10246,10251,10254,10288,10286,10256,10304,10304,10323,10334,10341,10352,10339]



ssE4=[24,33,47,55,68,44,51,61,68,79,82,91,104,107,111,122,132,173,144,152,154,168,175,184,189,235,205,214,229,230,238,281,292,297,305,311,322,327,335,344,351,324,331,336,344,352,362,368,418,424,430,435,442,453,469,465,474,480,489,496,504,523,588,527,534,540,552,557,567,572,580,588,596,606,641,619,627,631,641,653,658,665,670,682,687,694,667,678,682,690,697,706,715,720,763,773,778,786,795,800,809,817,824,833,840,847,852,863,871,878,886,1182,1389,1111,938,947,1045,952,1053,973,979,971,978,985,993,1009,1009,1014,1025,1030,1038,1047,1056,1061,1070,1076,1085,1092,1103,1108,1114,1122,1130,1137,1146,1155,1160,1185,1185,1198,1210,1218,1224,1228,1236,1242,1249,1256,1265,1273,1282,1287,1300,1303,1316,1318,1328,1332,1342,1348,1358,1363,1374,1378,1392,1394,1402,1408,1433,1423,1440,1441,1450,1467,1466,1471,1790,1579,1496,1502,1511,1519,1527,1532,1544,1546,1557,1577,1571,1578,1587,1597,1604,1608,1615,1624,1632,1640,1647,1654,1660,1667,1676,1684,1705,1697,1713,1717,1723,1736,1738,1746,1754,1765,1773,1778,1783,1795,1799,1807,1811,1832,1834,1839,1844,1859,1866,1867,1877,1882,1892,1900,1910,1915,1928,1930,2020,1952,1956,1960,1974,1981,1984,1993,2003,2007,2015,2021,2029,2035,2048,2051,2060,2066,2079,2079,2090,2096,2108,2115,2121,2128,2137,2142,2153,2160,2167,2174,2209,2195,2198,2207,2215,2220,2229,2235,2243,2330,2259,2267,2278,2282,2288,2297,2305,2311,2317,2326,2333,2345,2358,2361,2365,2378,2381,2395,2399,2405,2414,2419,2432,2436,2445,2451,2458,2467,2474,2481,2492,2497,2502,2514,2520,2528,2533,2542,2564,2556,2566,2572,2581,2584,2595,2602,2613,2621,2629,2646,2642,2648,2665,2663,2672,2683,2687,2712,2709,2708,2739,2723,2731,2739,2750,2755,2762,2772,2779,2785,2794,2820,2809,2817,2823,2833,2841,2848,2857,2875,2870,2901,2886,2891,2901,2907,2914,2921,2936,2938,2949,2983,2963,2970,2978,2981,2996,3003,3022,3024,3045,3033,3044,3043,3053,3062,3071,3079,3084,3090,3112,3105,3116,3124,3130,3157,3162,3170,3189,3203,3191,3194,3203,3209,3217,3227,3235,3242,3266,3259,3264,3274,3286,3290,3312,3310,3316,3332,3329,3333,3345,3349,3356,3370,3374,3392,3386,3396,3405,3409,3421,3429,3433,3441,3460,3458,3463,3471,3478,3488,3498,3503,3526,3516,3528,3533,3540,3547,3573,3571,3596,3580,3586,3593,3601,3608,3618,3624,3646,3638,3651,3656,3661,3670,3681,3687,3709,3704,3716,3717,3730,3737,3745,3748,3770,3766,3770,3779,3785,3810,3809,3813,3832,3826,3833,3839,3849,3855,3863,3886,3877,3886,3893,3903,3912,3917,3934,3928,3940,3947,3958,3970,3970,3977,3997,3996,4000,4004,4015,4035,4038,4055,4044,4053,4059,4064,4075,4085,4105,4101,4105,4117,4120,4132,4167,4164,4152,4157,4170,4173,4184,4194,4211,4203,4215,4221,4228,4258,4251,4280,4265,4266,4272,4286,4288,4295,4318,4308,4320,4324,4341,4341,4359,4354,4363,4371,4381,4390,4396,4418,4410,4420,4429,4453,4450,4455,4459,4463,4473,4480,4491,4492,4506,4507,4520,4523,4537,4541,4552,4554,4563,4568,4581,4587,4595,4612,4610,4615,4626,4658,4649,4661,4654,4664,4672,4680,4687,4693,4703,4709,4719,4727,4732,4746,4749,4755,4758,4770,4862,4790,4792,4803,4809,4834,4830,4839,4842,4849,4856,4863,4868,4894,4885,4892,4902,4908,4917,4935,4931,4940,4947,4961,4962,4979,4980,4982,4996,5020,5017,5015,5022,5030,5037,5046,5058,5063,5065,5073,5090,5103,5109,5125,5129,5136,5163,5166,5163,5168,5171,5183,5209,5202,5211,5210,5217,5231,5237,5242,5249,5256,5265,5462,5316,5294,5299,5303,5310,5318,5330,5333,5345,5366,5367,5370,5372,5378,5389,5401,5404,5419,5420,5428,5441,5442,5454,5463,5468,5476,5482,5493,5501,5511,5512,5584,5536,5538,5544,5546,5559,5601,5575,5703,5592,5608,5611,5616,5618,5622,5636,5639,5649,5656,5665,5696,5687,5692,5697,5704,5711,5719,5729,5734,5743,5752,5758,5762,5770,5779,5791,5794,5800,5806,5815,5834,5843,5845,5845,5852,5863,5868,5884,5887,5893,5901,5922,5917,5921,5933,5943,5947,5959,5962,5968,5993,5997,5996,5998,6003,6016,6019,6028,6033,6041,6061,6058,6071,6075,6084,6094,6100,6102,6114,6137,6133,6142,6144,6156,6158,6166,6175,6182,6188,6197,6204,6217,6218,6228,6235,6250,6248,6257,6287,6290,6286,6289,6300,6304,6314,6323,6327,6337,6343,6356,6352,6364,6451,6382,6386,6396,6420,6422,6418,6426,6432,6441,6452,6457,6467,6473,6478,6485,6493,6505,6514,6517,6526,6532,6558,6565,6569,6568,6589,6577,6593,6594,6598,6639,6651,6629,6631,6658,6649,6656,6666,6687,6759,6843,6699,6705,6727,6716,6772,6740,6773,6746,6767,6762,6788,6778,6800,6789,6803,6901,6825,6839,6831,6855,6847,6870,6858,6886,6877,6892,6897,6909,6908,6932,6921,7013,6951,6973,6950,6959,6983,6981,6993,6992,7011,7119,7049,7028,7048,7037,7069,7057,7147,7077,7119,7099,7129,7133,7147,7136,7148,7142,7159,7155,7176,7173,7193,7197,7283,7217,7222,7217,7241,7239,7258,7253,7274,7289,7288,7280,7305,7301,7315,7323,7404,7339,7359,7339,7367,7356,7379,7370,7389,7387,7411,7405,7416,7422,7439,7444,7529,7455,7469,7465,7486,7479,7501,8114,7507,7527,7517,7538,7537,7553,7552,7647,7583,7573,7583,7590,7591,7608,7614,7621,7658,7637,7643,7731,7663,7666,7686,7684,7684,7694,7701,7715,7718,7729,7735]



fig, ax = plt.subplots()
ax.plot(t,avx2,label='avx2')
ax.plot(t,scalar_version,label='scalar_version')
ax.plot(t,ssE4,label='ssE4')
plt.legend()


plt.ylabel('average time')

plt.show()

plt.plot()
