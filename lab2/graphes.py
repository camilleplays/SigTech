import matplotlib.pyplot as plt
import numpy as np
t = np.arange(0, 1000, 1)

avx2=[23,23,31,37,44,57,60,72,81,103,125,170,185,201,212,208,257,254,180,303,321,321,319,268,237,275,248,252,248,310,279,266,331,283,335,455,476,546,605,595,432,409,415,400,366,431,383,537,398,410,410,421,420,667,604,467,468,478,522,590,533,518,556,575,519,529,584,545,545,611,624,781,988,915,837,652,633,633,649,655,713,676,724,1026,699,722,766,805,800,839,716,727,793,782,884,1079,1174,943,946,902,836,841,850,857,866,1287,898,908,1004,998,913,920,926,934,985,1302,1384,1119,1114,983,1000,996,1059,1251,1203,1374,1263,1053,1048,1106,1061,1178,1377,1122,1217,1198,1184,1131,1138,1199,1226,1574,1603,1184,1188,1196,1200,1650,1689,1439,1247,1245,1251,1302,1725,1310,1420,1380,1289,1303,1358,1771,1717,1608,1337,1347,1362,1824,1899,1614,1376,1397,1394,1471,2173,1589,1523,1442,1440,1655,1728,1802,1520,1490,1559,1754,1747,1632,1582,1606,1535,2019,1569,1774,1589,1632,1581,2075,2092,1769,1613,1615,2011,1804,1885,1751,1660,1669,2263,1928,1715,1758,1717,2277,2187,1759,1791,1746,2348,2207,1806,1827,1832,2509,2085,1827,1811,1880,1858,2194,1861,1904,2599,1942,2156,1879,1945,2677,2435,2002,1924,2443,2284,2248,2083,1958,2797,2410,2005,1989,2066,2995,2123,2028,2800,2138,2287,2116,2052,3079,2299,2160,2130,2917,2288,2337,2140,2979,2466,2157,2156,2978,2432,2250,2193,3003,2458,2282,2223,3074,2528,2246,3119,2381,2434,2343,3152,2483,2314,2422,3126,2517,2398,2401,3178,2587,2434,3182,2902,2511,2458,3237,2604,2482,2691,3126,2614,2450,3282,2814,2503,2556,3408,2862,2501,3322,2737,2586,3134,2838,2696,2694,3385,2916,2641,3501,2821,2621,2660,2704,2832,2685,3462,2847,2732,3476,2916,2692,2734,2749,2926,2712,2790,3131,2770,3101,3424,2866,2775,3706,3001,2784,3658,3011,2797,3710,3026,2912,3679,3001,2918,3677,3095,2941,3729,3083,2982,3722,3106,2918,3009,3603,2949,3804,3167,3034,3833,3316,2987,3856,3199,3085,3919,3655,3051,3251,3216,3068,5073,3123,3173,3437,3175,3942,3348,3208,4040,3400,3192,4141,3288,3260,3465,3229,3272,3430,3284,4045,3425,3325,4073,3519,3282,4727,3328,4177,3766,3320,3401,3524,3409,4341,3385,4196,3583,3450,4283,3629,4204,3661,3470,4278,3636,4173,3723,3466,4277,3776,3535,3706,3766,4310,4035,3504,4596,3566,4457,3757,3683,4395,3657,4442,3820,4408,3794,3668,4562,3907,4486,4175,3641,4683,3655,4648,3883,3759,5194,3692,4728,3719,3817,3937,3805,4304,3771,4778,3988,3854,5232,3822,4830,3799,4715,3999,4917,4072,4674,4031,3850,4868,3870,4757,4060,4704,4079,4783,4552,4830,4130,4017,5108,4048,4889,4251,4010,4286,4815,4710,4826,4250,4022,5059,4105,5130,4177,4968,4390,4954,4348,4226,4351,4201,4587,4146,4296,4501,5042,4428,5170,4491,4316,4631,4338,5636,4308,5125,4819,5079,4941,4927,4978,4903,5073,4746,4319,5482,4354,5621,4352,5779,5298,5136,5213,5033,5221,4591,5228,4636,4516,4686,4506,4655,4532,5548,4559,4732,4558,5543,4501,5498,4508,4849,4550,5698,4626,5597,4555,5650,4580,5602,5368,4941,4677,4902,4753,4992,4706,4966,4654,5000,4682,5742,4681,5803,5529,5238,4834,5008,4832,4986,4935,4994,4791,5422,5667,5106,5778,4931,5816,4820,5832,4896,5101,5465,5307,5703,5078,5070,5166,5850,5168,5992,4939,5953,5760,5607,5818,5203,5241,5155,6036,5013,6023,5082,5252,5121,5275,5134,5285,6065,5135,5367,5126,6186,5932,5528,6219,5138,6191,5225,5435,6001,5375,5368,5355,6245,6008,5503,5359,5753,5458,5601,6282,6214,5475,5387,5580,6306,6146,5587,6199,5711,6352,5478,7003,5459,5595,6570,6227,5655,6490,5486,6480,6287,5651,5711,5527,6493,5554,5701,5634,5669,6619,6400,5887,6571,5581,5795,6461,5811,6725,6383,6417,6620,6582,6048,6687,6428,5824,7268,6521,5878,6681,5714,5956,6866,5857,6817,6520,5889,7342,6566,5922,6919,6726,6040,6790,6590,5964,7443,6631,6027,6811,6677,6064,6927,6769,6053,6335,6780,6115,6956,6748,6095,7580,6737,6180,7008,6842,6191,7686,7540,6824,6261,7640,6926,6223,6463,6841,6253,7633,7125,6948,6347,7109,6155,6382,6812,6200,6567,7722,6949,6419,7205,7001,6382,7806,7242,7032,6421,7282,7051,6511,7234,7408,6272,6587,7326,6279,7861,7542,6566,6566,7368,7332,7164,6528,7958,7530,7216,6621,7442,7341,6646,7659,7502,6962,6956,7495,7491,7296,7036,7618,7575,7347,6712,7370,7400,6796,6809,7562,6637,6790,7640,7589,6651,7348,7631,7595,6705,6937,8115,8458,7524,6969,7816,7901,7564,7162,7780,7998,8289,7618,6995,7225,7791,7580,7071,8429,7899,7804,7812,7022,7101,7744,7793,7056,7168,7793,7077,7207,7900,8486,7741,7068,7945,7949,7824,7177,8575,7997,7192,6990,7169,7380,7995,7009,7277,7435,7221,7218,7529,8134,8039,8399,7393,8815,8146,8132,7308,8311,7391,9167,8199,8243,8645,8215,7394,8833,12920,8884,7663,8269,7591,8061,8402,7913,8270,7560,8171,7502,7517,8333,8370,8329,8122,7647,7585,7618,8295,8365,7873,9736,10758,7950,7789,8392,8329,7577,8302,8461,8523,8442,7551,8726,7694,9093,8490,8505,7715,7719,7739,8566,8555,8568,7635,7937,8333,9222,8127,8968,8928,8793,7786,8075,9030,8829,8771,8776,8745,7735,8825,8056,7952,8776,8834,8603,8685,7928,8176,8921,8025,8901,7996,7986,8361,8943,8944,8078,8902,8743,9361,8382,9097,8432,8941,9515,8968,9562,10165,9054,9100,9021,8872,9033,8328,9542,9586,9580,9564]


scalar_version=[157,243,313,295,375,480,439,503,592,606,676,735,636,589,540,435,467,399,391,423,378,372,383,376,346,361,378,351,352,361,369,339,379,406,414,416,468,439,451,460,468,478,532,498,509,521,530,542,550,561,571,585,591,605,613,624,633,642,653,664,674,689,694,706,714,728,737,750,755,766,777,782,799,804,821,825,836,888,858,865,874,890,900,906,915,932,941,970,961,973,981,1000,1231,1193,1045,1033,1040,1064,1061,1071,1084,1091,1107,1116,1122,1135,1142,1153,1163,1174,1188,1195,1203,1223,1225,1236,1247,1258,1267,1283,1288,1302,1308,1319,1328,1338,1349,1360,1369,1380,1391,1404,1415,1423,1437,1444,1453,1470,1474,1488,1494,1503,1517,1526,1536,1546,1557,1565,1582,1587,1597,1608,1618,1628,1638,1654,1661,1674,1682,1689,1710,1714,1720,1736,1742,1754,1761,1776,1785,1799,1807,2222,1826,1840,1847,1861,1865,1877,1887,1897,1909,1918,1929,1934,1946,1955,1968,1978,1992,2001,2012,2012,2030,2039,2051,2061,2073,2082,2096,2098,2113,2124,2137,2144,2157,2165,2174,2184,2198,2209,2218,2229,2240,2253,2257,2264,2282,2365,2300,2326,2316,2340,2342,2353,2373,2374,2383,2394,2405,2417,2422,2430,2444,2454,2465,2490,2521,2495,2504,2519,2528,2539,2545,2562,2599,2579,2589,2593,2649,2774,2652,2730,2656,2662,2671,2683,2679,2700,2715,2730,2734,2744,2756,2776,2781,2785,2801,2800,2806,2825,2826,2847,2859,2874,2878,2892,2915,2912,2920,2928,2940,2951,2962,2973,2983,2991,3002,3011,3022,3033,3043,3057,3064,3073,3082,3091,3098,3118,3126,3135,3146,3162,3182,3183,3191,3198,3201,3219,3407,3253,3257,3260,3274,3288,3294,3298,3312,3327,3341,3361,3362,3364,3375,3388,3393,3408,3415,3428,3437,3447,3458,3470,3483,3491,3497,3514,3537,3535,3539,3561,3558,3569,3581,3588,3603,3612,3624,3632,3643,3658,3664,3675,3684,3693,3704,3711,3724,3747,3771,3763,3768,3780,3787,3796,3806,3817,3827,3855,3842,3862,3876,3879,3888,3902,3914,3913,3928,3935,3952,3962,3970,3985,3996,4003,4014,4035,4036,4044,4055,4067,4076,4088,4096,4108,4113,4125,4160,4171,4164,4181,4178,4371,4245,4216,4220,4228,4252,4251,4251,4287,4274,4269,4300,4312,4328,4398,4362,4348,4364,4374,4386,4401,4412,4449,4434,4429,4451,4458,4468,4488,4488,4495,4514,4524,4531,4537,4555,4564,4568,4583,4590,4788,4686,4625,4640,4647,4657,4670,4689,4706,4701,4711,4715,4735,4743,4742,4757,4771,4774,4786,4802,4827,4825,4833,4830,4852,4874,4875,4882,4892,4911,4905,4932,4950,5079,4962,4964,5011,5019,4989,5002,4996,5034,5041,5048,5058,5066,5081,5077,5097,5113,5110,5138,5149,5155,5167,5196,5185,5174,5207,5208,5222,5229,5243,5243,5269,5287,5287,5303,5299,5343,5491,5342,5343,5362,5367,5382,5418,5408,5416,5438,5428,5443,5454,5458,5473,5500,5493,5493,5509,5523,5525,5539,5558,5560,5571,5588,5591,5628,5614,5588,5611,5827,5655,5665,5684,5690,5703,5723,5722,5723,5746,5745,5766,5769,5777,5783,5773,5812,5859,5833,5846,5861,5886,5876,5893,5891,5888,5936,5960,5940,5946,6141,6016,5974,5989,6012,5997,6051,6029,6043,6046,6062,6071,6080,6079,6094,6110,6125,6123,6127,6150,6166,6179,6186,6176,6205,6239,6234,6230,6241,6457,6278,6281,6275,6300,6309,6311,6326,6332,6339,6360,6373,6380,6389,6419,6416,6419,6436,6439,6475,6462,6477,6468,6515,6504,6514,6519,6833,6563,6547,6555,6578,6681,6596,6606,6617,6632,6636,6640,6657,6670,6683,6686,6684,6707,6730,6742,6748,6715,6771,6777,6779,6790,6993,6823,6829,6834,6849,6878,6865,6874,6884,6899,6874,6919,6922,6958,6948,6962,6957,6982,6992,6999,7019,7031,7038,7044,7019,7261,7075,7080,7077,7105,7132,7128,7125,7142,7164,7173,7169,7185,7202,7202,7209,7209,7236,7252,7249,7255,7301,7296,7288,7505,7326,7335,7352,7320,7366,7368,7381,7377,7404,7402,7428,7433,7478,7454,7474,7486,7486,7503,7509,7518,7524,7498,7699,7595,7562,7574,7580,7620,7611,7601,7624,7639,7649,7654,7658,7697,7695,7683,7714,7722,7724,7750,7753,7914,7774,7970,7800,7808,7821,7825,7834,7849,7849,7869,7876,7886,7886,7931,7910,7925,7954,7967,7957,7966,7978,7987,8000,8215,8052,8039,8044,8170,8111,8075,8075,8099,8105,8118,8126,8130,8154,8152,8259,8175,8201,8196,8244,8220,8232,8240,8245,8252,8251,8282,8301,8291,8312,8325,8328,8352,8361,8363,8372,8380,8392,8379,8417,8464,8435,8426,8458,8470,8481,8502,8514,8512,8520,8528,8543,8552,8537,8538,8559,8562,8604,8607,8623,8656,8645,8649,8661,8652,8656,8645,8791,8696,8721,8737,8746,8754,9321,9403,8765,8810,8801,8823,8827,8859,8838,8856,9143,8878,8881,9000,8936,8926,8947,8958,8949,8955,8984,8977,9053,9037,9013,9037,9136,9043,9049,9075,9089,9090,9107,9150,9091,9134,9143,9146,9166,9293,9142,9183,9201,9210,9222,9229,9242,9248,9249,9274,9281,9323,9304,9315,9316,9324,9344,9353,9362,9366,9371,9387,9405,9399,9471,9433,9445,9461,9459,9480,9494,9496,9508,9613,9520,9543,9580,9561,9567,9572,9599,9611,9607,9624,9633,9663,9650,9670,9675,9644,9641,9680,9717,9710,9762,9784,9758,9750,9780,9792,9823,9947,9818,9825,9861,9846,9859,9849,9868,9801,9808,9863,9945,9927,9950,9950,9964,9973,9974,9985,10004,10022,9992,10067,10063,10054,10049,10079,10090,10100,10111,10116,10140,10128,10137,10188,10164,10179,10196,10192,10206,10218,10222,10246,10251,10254,10288,10286,10256,10304,10304,10323,10334,10341,10352,10339]



ssE4=[24,33,47,55,68,44,51,61,68,79,82,91,104,107,111,122,132,173,144,152,154,168,175,184,189,235,205,214,229,230,238,281,292,297,305,311,322,327,335,344,351,324,331,336,344,352,362,368,418,424,430,435,442,453,469,465,474,480,489,496,504,523,588,527,534,540,552,557,567,572,580,588,596,606,641,619,627,631,641,653,658,665,670,682,687,694,667,678,682,690,697,706,715,720,763,773,778,786,795,800,809,817,824,833,840,847,852,863,871,878,886,1182,1389,1111,938,947,1045,952,1053,973,979,971,978,985,993,1009,1009,1014,1025,1030,1038,1047,1056,1061,1070,1076,1085,1092,1103,1108,1114,1122,1130,1137,1146,1155,1160,1185,1185,1198,1210,1218,1224,1228,1236,1242,1249,1256,1265,1273,1282,1287,1300,1303,1316,1318,1328,1332,1342,1348,1358,1363,1374,1378,1392,1394,1402,1408,1433,1423,1440,1441,1450,1467,1466,1471,1790,1579,1496,1502,1511,1519,1527,1532,1544,1546,1557,1577,1571,1578,1587,1597,1604,1608,1615,1624,1632,1640,1647,1654,1660,1667,1676,1684,1705,1697,1713,1717,1723,1736,1738,1746,1754,1765,1773,1778,1783,1795,1799,1807,1811,1832,1834,1839,1844,1859,1866,1867,1877,1882,1892,1900,1910,1915,1928,1930,2020,1952,1956,1960,1974,1981,1984,1993,2003,2007,2015,2021,2029,2035,2048,2051,2060,2066,2079,2079,2090,2096,2108,2115,2121,2128,2137,2142,2153,2160,2167,2174,2209,2195,2198,2207,2215,2220,2229,2235,2243,2330,2259,2267,2278,2282,2288,2297,2305,2311,2317,2326,2333,2345,2358,2361,2365,2378,2381,2395,2399,2405,2414,2419,2432,2436,2445,2451,2458,2467,2474,2481,2492,2497,2502,2514,2520,2528,2533,2542,2564,2556,2566,2572,2581,2584,2595,2602,2613,2621,2629,2646,2642,2648,2665,2663,2672,2683,2687,2712,2709,2708,2739,2723,2731,2739,2750,2755,2762,2772,2779,2785,2794,2820,2809,2817,2823,2833,2841,2848,2857,2875,2870,2901,2886,2891,2901,2907,2914,2921,2936,2938,2949,2983,2963,2970,2978,2981,2996,3003,3022,3024,3045,3033,3044,3043,3053,3062,3071,3079,3084,3090,3112,3105,3116,3124,3130,3157,3162,3170,3189,3203,3191,3194,3203,3209,3217,3227,3235,3242,3266,3259,3264,3274,3286,3290,3312,3310,3316,3332,3329,3333,3345,3349,3356,3370,3374,3392,3386,3396,3405,3409,3421,3429,3433,3441,3460,3458,3463,3471,3478,3488,3498,3503,3526,3516,3528,3533,3540,3547,3573,3571,3596,3580,3586,3593,3601,3608,3618,3624,3646,3638,3651,3656,3661,3670,3681,3687,3709,3704,3716,3717,3730,3737,3745,3748,3770,3766,3770,3779,3785,3810,3809,3813,3832,3826,3833,3839,3849,3855,3863,3886,3877,3886,3893,3903,3912,3917,3934,3928,3940,3947,3958,3970,3970,3977,3997,3996,4000,4004,4015,4035,4038,4055,4044,4053,4059,4064,4075,4085,4105,4101,4105,4117,4120,4132,4167,4164,4152,4157,4170,4173,4184,4194,4211,4203,4215,4221,4228,4258,4251,4280,4265,4266,4272,4286,4288,4295,4318,4308,4320,4324,4341,4341,4359,4354,4363,4371,4381,4390,4396,4418,4410,4420,4429,4453,4450,4455,4459,4463,4473,4480,4491,4492,4506,4507,4520,4523,4537,4541,4552,4554,4563,4568,4581,4587,4595,4612,4610,4615,4626,4658,4649,4661,4654,4664,4672,4680,4687,4693,4703,4709,4719,4727,4732,4746,4749,4755,4758,4770,4862,4790,4792,4803,4809,4834,4830,4839,4842,4849,4856,4863,4868,4894,4885,4892,4902,4908,4917,4935,4931,4940,4947,4961,4962,4979,4980,4982,4996,5020,5017,5015,5022,5030,5037,5046,5058,5063,5065,5073,5090,5103,5109,5125,5129,5136,5163,5166,5163,5168,5171,5183,5209,5202,5211,5210,5217,5231,5237,5242,5249,5256,5265,5462,5316,5294,5299,5303,5310,5318,5330,5333,5345,5366,5367,5370,5372,5378,5389,5401,5404,5419,5420,5428,5441,5442,5454,5463,5468,5476,5482,5493,5501,5511,5512,5584,5536,5538,5544,5546,5559,5601,5575,5703,5592,5608,5611,5616,5618,5622,5636,5639,5649,5656,5665,5696,5687,5692,5697,5704,5711,5719,5729,5734,5743,5752,5758,5762,5770,5779,5791,5794,5800,5806,5815,5834,5843,5845,5845,5852,5863,5868,5884,5887,5893,5901,5922,5917,5921,5933,5943,5947,5959,5962,5968,5993,5997,5996,5998,6003,6016,6019,6028,6033,6041,6061,6058,6071,6075,6084,6094,6100,6102,6114,6137,6133,6142,6144,6156,6158,6166,6175,6182,6188,6197,6204,6217,6218,6228,6235,6250,6248,6257,6287,6290,6286,6289,6300,6304,6314,6323,6327,6337,6343,6356,6352,6364,6451,6382,6386,6396,6420,6422,6418,6426,6432,6441,6452,6457,6467,6473,6478,6485,6493,6505,6514,6517,6526,6532,6558,6565,6569,6568,6589,6577,6593,6594,6598,6639,6651,6629,6631,6658,6649,6656,6666,6687,6759,6843,6699,6705,6727,6716,6772,6740,6773,6746,6767,6762,6788,6778,6800,6789,6803,6901,6825,6839,6831,6855,6847,6870,6858,6886,6877,6892,6897,6909,6908,6932,6921,7013,6951,6973,6950,6959,6983,6981,6993,6992,7011,7119,7049,7028,7048,7037,7069,7057,7147,7077,7119,7099,7129,7133,7147,7136,7148,7142,7159,7155,7176,7173,7193,7197,7283,7217,7222,7217,7241,7239,7258,7253,7274,7289,7288,7280,7305,7301,7315,7323,7404,7339,7359,7339,7367,7356,7379,7370,7389,7387,7411,7405,7416,7422,7439,7444,7529,7455,7469,7465,7486,7479,7501,8114,7507,7527,7517,7538,7537,7553,7552,7647,7583,7573,7583,7590,7591,7608,7614,7621,7658,7637,7643,7731,7663,7666,7686,7684,7684,7694,7701,7715,7718,7729,7735]



fig, ax = plt.subplots()
ax.plot(t,avx2,label='avx2')
ax.plot(t,scalar_version,label='scalar_version')
ax.plot(t,ssE4,label='ssE4')
plt.legend()


plt.ylabel('average time')

plt.show()

plt.plot()
